{
  "version": 3,
  "sources": ["src/config.js", "src/fields.js", "src/ajax.js", "src/preview.js", "src/loader.js", "src/workingTab.js", "src/actions.js", "src/autocomplete.js", "src/selects.js", "src/boot.js", "src/index.js"],
  "sourcesContent": ["/**\r\n * Config, globals, small helpers\r\n */\r\nexport const CFG      = (window.PPA || {});\r\nexport const AJAX_URL = CFG.ajax_url || CFG.ajaxUrl || (typeof ajaxurl !== 'undefined' ? ajaxurl : '/wp-admin/admin-ajax.php');\r\nexport const NONCE    = CFG.nonce || '';\r\nexport const DEBUG    = !!CFG.debug;\r\n\r\nexport const $  = (sel, root) => (root || document).querySelector(sel);\r\nexport const $$ = (sel, root) => Array.from((root || document).querySelectorAll(sel));\r\n\r\nexport function log(...args)  { if (DEBUG && window.console) console.log('[PPA]', ...args); }\r\nexport function warn(...args) { if (window.console) console.warn('[PPA]', ...args); }\r\n\r\nexport function getNonce() {\r\n  if (NONCE) return NONCE;\r\n  const dom = $('#ppa-nonce');\r\n  return dom ? String(dom.value || '') : '';\r\n}\r\n\r\n/**\r\n * Resolve a plugin-relative asset URL (works even if script is concatenated/moved).\r\n */\r\nexport function resolveAssetUrl(rel) {\r\n  const r = String(rel || '').replace(/^\\/+/, '');\r\n  if (CFG.assets_url) return CFG.assets_url.replace(/\\/+$/, '/') + r;\r\n  if (CFG.pluginUrl)  return CFG.pluginUrl.replace(/\\/+$/, '/')  + r;\r\n  if (CFG.plugin_url) return CFG.plugin_url.replace(/\\/+$/, '/') + r;\r\n\r\n  const PLUGIN_SEG = '/wp-content/plugins/postpress-ai/';\r\n  try {\r\n    const cs = document.currentScript && document.currentScript.src;\r\n    if (cs && cs.includes(PLUGIN_SEG)) {\r\n      const u = new URL(cs, window.location.origin);\r\n      const base = u.origin + u.pathname.slice(0, u.pathname.indexOf(PLUGIN_SEG) + PLUGIN_SEG.length);\r\n      return base.replace(/\\/+$/, '/') + r;\r\n    }\r\n  } catch (_) {}\r\n  try {\r\n    const scripts = document.getElementsByTagName('script');\r\n    for (let i = scripts.length - 1; i >= 0; i--) {\r\n      const src = scripts[i].src || '';\r\n      if (!src) continue;\r\n      if (src.includes(PLUGIN_SEG)) {\r\n        const u = new URL(src, window.location.origin);\r\n        const base = u.origin + u.pathname.slice(0, u.pathname.indexOf(PLUGIN_SEG) + PLUGIN_SEG.length);\r\n        return base.replace(/\\/+$/, '/') + r;\r\n      }\r\n    }\r\n  } catch (_) {}\r\n  try {\r\n    return window.location.origin.replace(/\\/+$/, '') + PLUGIN_SEG + r;\r\n  } catch (_) {\r\n    return PLUGIN_SEG + r;\r\n  }\r\n}\r\n", "// CHANGED: 2025-09-04 - restore named export `collectFields` for compatibility; also append top-level keys when appending fields[...].\r\n// CHANGE LOG\r\n// 2025-09-04:\r\n//  - RESTORED: export collectFields() so other modules importing it compile.\r\n//  - ADDED: appendFieldsToFormData() writes both fields[<k>] and top-level <k> (and ensures title is set when subject/headline present).\r\n//  - Defensive implementations: collectFields accepts FormData, URLSearchParams, or plain object and returns plain object.\r\n\r\n// Helper utilities for dealing with \"fields\" payload shape used by the admin UI.\r\n// Exports:\r\n// - collectFields(input) -> Object\r\n// - appendFieldsToFormData(fd, fields) -> void\r\n\r\n/**\r\n * Collect fields into a plain object.\r\n *\r\n * Accepts:\r\n *  - FormData: will extract both 'fields[xxx]' entries and top-level keys.\r\n *  - URLSearchParams: same handling.\r\n *  - Plain Object: returned as-is (shallow copy).\r\n *  - null/undefined/other: returns {}.\r\n *\r\n * Returned object maps keys -> value (string or array if multiple entries present).\r\n *\r\n * NOTE: This is defensive and intentionally conservative to avoid breaking callers.\r\n *\r\n * @param {FormData|URLSearchParams|Object|null} input\r\n * @returns {Object}\r\n */\r\nexport function collectFields(input) {\r\n  if (!input) return {};\r\n\r\n  const out = Object.create(null);\r\n\r\n  // Helper to push value into out with array coalescing\r\n  function pushKey(k, v) {\r\n    if (out[k] === undefined) {\r\n      out[k] = v;\r\n    } else if (Array.isArray(out[k])) {\r\n      out[k].push(v);\r\n    } else {\r\n      out[k] = [out[k], v];\r\n    }\r\n  }\r\n\r\n  // Handle FormData\r\n  try {\r\n    if (typeof FormData !== 'undefined' && input instanceof FormData) {\r\n      for (const pair of input.entries()) {\r\n        const k = pair[0];\r\n        const v = pair[1];\r\n        // special: fields[foo] -> foo\r\n        const m = k.match(/^fields\\[(.+)\\]$/);\r\n        if (m) {\r\n          pushKey(m[1], String(v));\r\n        } else {\r\n          pushKey(k, String(v));\r\n        }\r\n      }\r\n      return out;\r\n    }\r\n  } catch (e) {\r\n    // fallthrough\r\n  }\r\n\r\n  // Handle URLSearchParams\r\n  try {\r\n    if (typeof URLSearchParams !== 'undefined' && input instanceof URLSearchParams) {\r\n      for (const [k, v] of input.entries()) {\r\n        const m = k.match(/^fields\\[(.+)\\]$/);\r\n        if (m) {\r\n          pushKey(m[1], String(v));\r\n        } else {\r\n          pushKey(k, String(v));\r\n        }\r\n      }\r\n      return out;\r\n    }\r\n  } catch (e) {\r\n    // fallthrough\r\n  }\r\n\r\n  // If it's a plain object, shallow copy (if nested arrays/objects, caller must handle)\r\n  if (typeof input === 'object') {\r\n    for (const k of Object.keys(input)) {\r\n      const v = input[k];\r\n      // if value is array, keep it as array of strings\r\n      if (Array.isArray(v)) {\r\n        out[k] = v.map((x) => (x == null ? '' : String(x)));\r\n      } else if (v == null) {\r\n        out[k] = '';\r\n      } else {\r\n        out[k] = String(v);\r\n      }\r\n    }\r\n    return out;\r\n  }\r\n\r\n  // Fallback: return empty object\r\n  return {};\r\n}\r\n\r\n/**\r\n * Append an object's fields to a FormData instance.\r\n *\r\n * Behavior:\r\n * - For each key in `fields`, append a `fields[<key>]` entry.\r\n * - Also append a top-level `<key>` entry (if not already present in the FormData)\r\n *   so that upstreams expecting top-level keys receive them.\r\n * - Special-case: when key is 'subject' or 'headline' and 'title' is not present,\r\n *   also append 'title' with that value.\r\n *\r\n * This is best-effort and tolerates environments where FormData.has() may not exist.\r\n *\r\n * @param {FormData} fd\r\n * @param {Object} fields\r\n */\r\nexport function appendFieldsToFormData(fd, fields = {}) {\r\n  if (!fd || typeof fd.append !== 'function') return;\r\n\r\n  // First append fields[<key>] entries\r\n  for (const key of Object.keys(fields)) {\r\n    const val = fields[key];\r\n\r\n    if (Array.isArray(val)) {\r\n      for (const v of val) {\r\n        fd.append(`fields[${key}]`, v == null ? '' : String(v));\r\n      }\r\n    } else {\r\n      fd.append(`fields[${key}]`, val == null ? '' : String(val));\r\n    }\r\n  }\r\n\r\n  // Second pass: append top-level keys if not present\r\n  // Because FormData.has() isn't universal, we enumerate existing keys once\r\n  const existing = new Set();\r\n  try {\r\n    for (const pair of fd.entries()) {\r\n      existing.add(pair[0]);\r\n    }\r\n  } catch (e) {\r\n    // If enumeration fails for any reason, fall back to best-effort appends below\r\n  }\r\n\r\n  for (const key of Object.keys(fields)) {\r\n    // skip if top-level already exists\r\n    if (existing.has(key)) continue;\r\n\r\n    const val = fields[key];\r\n    if (Array.isArray(val)) {\r\n      for (const v of val) {\r\n        try { fd.append(String(key), v == null ? '' : String(v)); } catch (_) {}\r\n      }\r\n    } else {\r\n      try { fd.append(String(key), val == null ? '' : String(val)); } catch (_) {}\r\n    }\r\n  }\r\n\r\n  // Ensure title exists if subject/headline present and title missing\r\n  let hasTitle = existing.has('title');\r\n  if (!hasTitle) {\r\n    // check entries in fields for title presence\r\n    if ('title' in fields && fields.title !== undefined && fields.title !== null && String(fields.title) !== '') {\r\n      try { fd.append('title', String(fields.title)); } catch (_) {}\r\n      hasTitle = true;\r\n    }\r\n  }\r\n  if (!hasTitle) {\r\n    const subjectVal = fields.subject || fields.headline || null;\r\n    if (subjectVal != null && String(subjectVal) !== '') {\r\n      try { fd.append('title', Array.isArray(subjectVal) ? String(subjectVal[0]) : String(subjectVal)); } catch (_) {}\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * AJAX transport to admin-ajax.php\r\n *\r\n * 2025-09-04: Robust response parsing \u2014 accept JSON or raw HTML for preview endpoint.\r\n *\r\n * Behavior:\r\n *  - Build FormData payload and POST to admin-ajax.php\r\n *  - Read response as text and try JSON.parse()\r\n *  - If JSON.parse fails, return a JSON-like object: { status, body: \"<raw-html>\" }\r\n *  - Preserve previous error behavior (throw on non-ok), but include parsed body in error text.\r\n */\r\n\r\nimport { AJAX_URL, getNonce } from './config.js';\r\nimport { appendFieldsToFormData } from './fields.js';\r\n\r\nexport async function postAjax(action, extra = {}) {\r\n  const nonce = getNonce();\r\n  if (!nonce) throw new Error('Missing nonce');\r\n\r\n  const fd = new FormData();\r\n  fd.append('action', action);\r\n  fd.append('nonce', nonce);\r\n  if (extra.mode) fd.append('mode', String(extra.mode));\r\n  appendFieldsToFormData(fd, extra.fields || {});\r\n\r\n  const res = await fetch(AJAX_URL, {\r\n    method: 'POST',\r\n    credentials: 'same-origin',\r\n    body: fd,\r\n    headers: { 'X-Requested-With': 'XMLHttpRequest' },\r\n  });\r\n\r\n  // Read response as text so we can safely handle both JSON and raw HTML\r\n  const text = await res.text().catch(() => '');\r\n\r\n  // Try to parse JSON first; if it fails, return a JSON-like object containing the raw text\r\n  let parsed;\r\n  try {\r\n    const trimmed = text.trim();\r\n    if (trimmed === '') {\r\n      parsed = { status: res.status, body: '' };\r\n    } else {\r\n      parsed = JSON.parse(trimmed);\r\n    }\r\n  } catch (err) {\r\n    // Not valid JSON \u2014 treat as HTML fallback\r\n    parsed = { status: res.status, body: text };\r\n  }\r\n\r\n  // If response is not OK, include parsed payload in the thrown error for easier debugging\r\n  if (!res.ok) {\r\n    const snippet = typeof parsed === 'object' ? JSON.stringify(parsed).slice(0, 280) : String(parsed).slice(0, 280);\r\n    throw new Error(`HTTP ${res.status}: ${snippet}`);\r\n  }\r\n\r\n  // Return parsed object (either the parsed JSON or {status, body: \"<html>...\"})\r\n  return parsed;\r\n}\r\n", "/**\r\n * Preview pane helpers and rendering\r\n */\r\nimport { $, warn } from './config.js';\r\n\r\nexport function findPreviewPane() {\r\n  const cands = ['#ppa-preview-window', '#ppa-preview-pane', '.ppa-preview-pane', '#ppa-preview', '.ppa-preview'];\r\n  for (const sel of cands) { const el = $(sel); if (el) return el; }\r\n  return null;\r\n}\r\n\r\nexport function extractPreviewHTML(json) {\r\n  if (!json) return '';\r\n  if (typeof json === 'string') return json;\r\n  const g = (obj, path) => {\r\n    try { return path.split('.').reduce((a, k) => (a && a[k] != null ? a[k] : undefined), obj); }\r\n    catch (_) { return undefined; }\r\n  };\r\n  const candidates = [\r\n    'result.html','result.content','result.body',\r\n    'data.html','html','wp_body','body',\r\n    'payload.output.html','output.html','content.rendered','rendered','markup','preview_html'\r\n  ];\r\n  for (const p of candidates) {\r\n    const v = g(json, p);\r\n    if (typeof v === 'string' && v.trim()) return v;\r\n  }\r\n  if (json.result && typeof json.result === 'object') {\r\n    for (const v of Object.values(json.result)) {\r\n      if (typeof v === 'string' && /<\\/(p|div|h\\d|article|section)>/i.test(v)) return v;\r\n    }\r\n  }\r\n  const msg = g(json, 'message') || g(json, 'error') || g(json, 'result.message');\r\n  if (typeof msg === 'string' && msg.trim()) return `<p><em>${msg}</em></p>`;\r\n  return '';\r\n}\r\n\r\nexport function renderPreviewHTMLFromJSON(json) {\r\n  const pane = findPreviewPane();\r\n  if (!pane) { warn('Preview pane not found'); return; }\r\n  const html = extractPreviewHTML(json);\r\n  pane.innerHTML = html && html.trim() ? html : '<p><em>No preview HTML returned.</em></p>';\r\n}\r\n", "/**\r\n * Loader overlay in the preview pane\r\n */\r\nimport { findPreviewPane } from './preview.js';\r\n\r\nexport function ensurePreviewLoader() {\r\n  const pane = findPreviewPane();\r\n  if (!pane) return null;\r\n  let overlay = pane.querySelector('.ppa-preloader');\r\n  if (!overlay) {\r\n    overlay = document.createElement('div');\r\n    overlay.className = 'ppa-preloader';\r\n    overlay.setAttribute('aria-hidden', 'true');\r\n    const spinner = document.createElement('div');\r\n    spinner.className = 'ppa-lds-spinner';\r\n    for (let i = 0; i < 12; i++) spinner.appendChild(document.createElement('div'));\r\n    const label = document.createElement('div');\r\n    label.className = 'ppa-preloader-label';\r\n    label.textContent = 'Generating preview\u2026';\r\n    overlay.appendChild(spinner);\r\n    overlay.appendChild(label);\r\n    pane.appendChild(overlay);\r\n  }\r\n  return overlay;\r\n}\r\n\r\nexport function setPreviewLoaderLabel(text) {\r\n  const pane = findPreviewPane();\r\n  if (!pane) return;\r\n  const overlay = ensurePreviewLoader();\r\n  if (!overlay) return;\r\n  let label = overlay.querySelector('.ppa-preloader-label');\r\n  if (!label) {\r\n    label = document.createElement('div');\r\n    label.className = 'ppa-preloader-label';\r\n    overlay.appendChild(label);\r\n  }\r\n  label.textContent = String(text || '').trim() || 'Working\u2026';\r\n}\r\n\r\nexport function showPreviewLoader(labelText) {\r\n  const pane = findPreviewPane(); if (!pane) return;\r\n  ensurePreviewLoader();\r\n  if (labelText) setPreviewLoaderLabel(labelText);\r\n  pane.classList.add('ppa-is-loading');\r\n  pane.setAttribute('aria-busy', 'true');\r\n}\r\n\r\nexport function hidePreviewLoader() {\r\n  const pane = findPreviewPane(); if (!pane) return;\r\n  pane.classList.remove('ppa-is-loading');\r\n  pane.removeAttribute('aria-busy');\r\n}\r\n", "/**\r\n * Branded \"Working\u2026\" tab\r\n */\r\nexport const BRAND_BG     = '#121212';\r\nexport const BRAND_ACCENT = '#ff6c00';\r\n\r\nexport function writeWorkingHTML(doc, heading, sub) {\r\n  doc.open();\r\n  doc.write(`<!doctype html>\r\n<html lang=\"en\"><head><meta charset=\"utf-8\">\r\n<title>PostPress AI \u2014 ${heading ? String(heading) : 'Working\u2026'}</title>\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n<style>\r\n:root { --bg:${BRAND_BG}; --accent:${BRAND_ACCENT}; --text:#f2f2f2; --muted:#bcbcbc; }\r\nhtml,body{height:100%}\r\nbody{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,\"Segoe UI\",Roboto,Ubuntu,\"Helvetica Neue\",Arial,sans-serif;display:grid;place-items:center}\r\n.wrap{max-width:720px;padding:24px;text-align:center}\r\nh1{margin:0 0 8px;font-size:22px;letter-spacing:.2px}\r\np{margin:8px 0 0;color:var(--muted)}\r\n.ring{position:relative;width:58px;height:58px;margin:20px auto 14px;border-radius:50%;\r\nborder:3px solid rgba(255,255,255,.12);border-top-color:var(--accent);border-right-color:#ff8a33;animation:spin .8s linear infinite;box-shadow:0 0 0 2px rgba(0,0,0,.18) inset}\r\n.dots::after{content:\".\";animation:dots 1.2s steps(3,end) infinite}\r\n@keyframes spin{to{transform:rotate(360deg)}}\r\n@keyframes dots{0%{content:\".\"}33%{content:\"..\"}66%{content:\"...\"}100%{content:\".\"}}\r\n.brand{display:inline-block;margin-top:6px;font-weight:700;color:#ffb27a}\r\n</style></head>\r\n<body><div class=\"wrap\">\r\n<div class=\"ring\" aria-hidden=\"true\"></div>\r\n<h1 id=\"ppa-status\">${heading ? String(heading) : 'Working'}<span class=\"dots\"></span></h1>\r\n<p id=\"ppa-sub\">${sub ? String(sub) : 'Please keep this tab open \u2014 we will take you to the WordPress editor as soon as your post is ready.'}</p>\r\n<div class=\"brand\">PostPress&nbsp;AI</div>\r\n</div></body></html>`);\r\n  doc.close();\r\n}\r\n\r\nexport function openWorkingTab() {\r\n  let w = null;\r\n  try { w = window.open('about:blank', '_blank'); if (w && w.document) writeWorkingHTML(w.document, 'Preparing', 'Initializing\u2026'); } catch(_) {}\r\n  return w;\r\n}\r\n\r\nexport function updateWorkingTab(w, heading, sub) {\r\n  if (!w || w.closed) return;\r\n  try {\r\n    const d = w.document, s = d.getElementById('ppa-status'), p = d.getElementById('ppa-sub');\r\n    if (s && heading) s.textContent = String(heading);\r\n    if (p && sub)     p.textContent = String(sub);\r\n    if (s) { const span = d.createElement('span'); span.className = 'dots'; s.appendChild(span); }\r\n  } catch(_) {}\r\n}\r\n", "/**\r\n * Preview and Store actions\r\n */\r\nimport { log, warn, AJAX_URL } from './config.js';\r\nimport { collectFields } from './fields.js';\r\nimport { postAjax } from './ajax.js';\r\nimport { renderPreviewHTMLFromJSON } from './preview.js';\r\nimport { ensurePreviewLoader, setPreviewLoaderLabel, showPreviewLoader, hidePreviewLoader } from './loader.js';\r\nimport { openWorkingTab, updateWorkingTab } from './workingTab.js';\r\n\r\nexport async function onPreviewClick(ev) {\r\n  ev && ev.preventDefault && ev.preventDefault();\r\n  showPreviewLoader('Generating preview\u2026');\r\n  try {\r\n    const fields = collectFields();\r\n    const json   = await postAjax('ppa_preview', { fields });\r\n    renderPreviewHTMLFromJSON(json);\r\n  } catch (e) {\r\n    warn('Preview error', e);\r\n    setPreviewLoaderLabel('Something went wrong \u2014 see console.');\r\n    // graceful message in the pane is done by render or leave as-is\r\n  } finally {\r\n    hidePreviewLoader();\r\n  }\r\n}\r\n\r\nexport async function onStoreClick(mode, ev) {\r\n  ev && ev.preventDefault && ev.preventDefault();\r\n  let openedTab = openWorkingTab();\r\n  showPreviewLoader('Generating preview\u2026');\r\n  try {\r\n    const fieldsBase = collectFields();\r\n    let fields = Object.assign({}, fieldsBase, { quality: 'final', mode });\r\n\r\n    try {\r\n      updateWorkingTab(openedTab, 'Generating preview', 'Asking AI for final content\u2026');\r\n      const previewJson = await postAjax('ppa_preview', { fields });\r\n      renderPreviewHTMLFromJSON(previewJson);\r\n      const rr = (previewJson && previewJson.result) || {};\r\n      fields = Object.assign({}, fields, {\r\n        title:   rr.title   || fields.title   || fieldsBase.title   || fieldsBase.subject || '',\r\n        html:    rr.html    || fields.html    || fieldsBase.html    || '',\r\n        summary: rr.summary || fields.summary || fieldsBase.summary || '',\r\n      });\r\n    } catch (e) {\r\n      log('Final-quality preview failed; continuing to store.', e);\r\n    }\r\n\r\n    setPreviewLoaderLabel('Saving draft\u2026');\r\n    updateWorkingTab(openedTab, 'Saving draft', 'Creating your post in WordPress\u2026');\r\n    const json = await postAjax('ppa_store', { mode, fields });\r\n\r\n    let editUrl = (json && (json.edit_url || json.edit_url_note)) || '';\r\n    if (!editUrl) {\r\n      try {\r\n        const id = json && json.result && json.result.id;\r\n        const base = (window?.ajaxurl || AJAX_URL || '').replace(/\\/admin-ajax\\.php$/, '/post.php');\r\n        if (id && base) editUrl = `${base}?post=${encodeURIComponent(id)}&action=edit`;\r\n      } catch (_) {}\r\n    }\r\n\r\n    if (editUrl) {\r\n      setPreviewLoaderLabel('Opening editor\u2026');\r\n      updateWorkingTab(openedTab, 'Opening editor', 'Redirecting to the WordPress post editor\u2026');\r\n      try {\r\n        if (openedTab && !openedTab.closed) { openedTab.location.replace(editUrl); openedTab.focus(); }\r\n        else {\r\n          window.open(editUrl, '_blank', 'noopener');\r\n        }\r\n      } catch(_) {\r\n        window.open(editUrl, '_blank', 'noopener');\r\n      }\r\n    } else {\r\n      log('Store completed without edit_url.');\r\n    }\r\n  } catch (e) {\r\n    warn('Store error', e);\r\n    setPreviewLoaderLabel('Something went wrong \u2014 see console.');\r\n  } finally {\r\n    hidePreviewLoader();\r\n  }\r\n}\r\n", "/**\r\n * Autocomplete: data load + debounce + keyboard nav + ARIA + Tab accept\r\n */\r\nimport { resolveAssetUrl, warn } from './config.js';\r\n\r\nconst AC_TARGET_IDS = ['ppa-tone','ppa-audience','ppa-keywords'];\r\nconst DEBOUNCE_MS   = 180;\r\n\r\nlet AUTOCOMPLETE_DATA = null;\r\nconst DEFAULT_AUTOCOMPLETE = {\r\n  tone: [\r\n    'Friendly','Professional','Persuasive','Technical','Casual','Storytelling','Inspirational',\r\n    'Luxury','Minimalist','Playful','Serious','Conversational','Educational','Authoritative'\r\n  ],\r\n  audience: [\r\n    'Small Business Owners','Entrepreneurs','Students','Iowa Residents','Marketers','Developers',\r\n    'Designers','Executives','Local Community','Ecommerce Owners','Parents','Nonprofits'\r\n  ],\r\n  keywords: [\r\n    'WordPress','SEO','Content Marketing','AI','Iowa Web Design','Small Business Growth',\r\n    'Luxury Branding','Website Redesign','Conversion Optimization','Social Media Strategy',\r\n    'Email Marketing','Page Speed'\r\n  ]\r\n};\r\n\r\nasync function loadAutocompleteData() {\r\n  if (AUTOCOMPLETE_DATA) return AUTOCOMPLETE_DATA;\r\n  try {\r\n    const url = resolveAssetUrl('assets/data/autocomplete.json');\r\n    const res = await fetch(url, { credentials: 'same-origin' });\r\n    if (!res.ok) throw new Error(`HTTP ${res.status}`);\r\n    AUTOCOMPLETE_DATA = await res.json();\r\n    if (!AUTOCOMPLETE_DATA || typeof AUTOCOMPLETE_DATA !== 'object') {\r\n      throw new Error('Bad JSON payload');\r\n    }\r\n  } catch (e) {\r\n    warn('Autocomplete data load failed, using defaults.', e);\r\n    AUTOCOMPLETE_DATA = DEFAULT_AUTOCOMPLETE;\r\n  }\r\n  return AUTOCOMPLETE_DATA;\r\n}\r\n\r\n// DOM helpers\r\nfunction acGetList(input) {\r\n  const sib = input && input.nextElementSibling;\r\n  if (sib && sib.classList && sib.classList.contains('ppa-autocomplete-list')) return sib;\r\n  if (input && input.parentElement) return input.parentElement.querySelector('.ppa-autocomplete-list');\r\n  return null;\r\n}\r\nfunction acGetItems(list) {\r\n  return Array.from(list ? list.querySelectorAll('li') : []);\r\n}\r\n\r\n// ARIA utilities\r\nfunction acEnsureARIA(input) {\r\n  if (!input) return;\r\n  input.setAttribute('role', 'combobox');\r\n  input.setAttribute('aria-autocomplete', 'list');\r\n  input.setAttribute('aria-haspopup', 'listbox');\r\n  if (!input.hasAttribute('aria-expanded')) input.setAttribute('aria-expanded', 'false');\r\n}\r\nfunction acWireListARIA(input, list) {\r\n  if (!input) return;\r\n  if (!list) {\r\n    input.setAttribute('aria-expanded', 'false');\r\n    input.removeAttribute('aria-activedescendant');\r\n    input.removeAttribute('aria-controls');\r\n    return;\r\n  }\r\n  if (!list.id) list.id = 'ppa-ac-' + (input.id || Math.random().toString(36).slice(2));\r\n  input.setAttribute('aria-controls', list.id);\r\n  input.setAttribute('aria-expanded', 'true');\r\n\r\n  const items = acGetItems(list);\r\n  items.forEach((li, i) => {\r\n    if (!li.id) li.id = `${list.id}-opt-${i}`;\r\n    if (li.getAttribute('aria-selected') === 'true') {\r\n      input.setAttribute('aria-activedescendant', li.id);\r\n    }\r\n  });\r\n  if (!input.getAttribute('aria-activedescendant') && items[0]) {\r\n    input.setAttribute('aria-activedescendant', items[0].id);\r\n  }\r\n}\r\nfunction acSyncAriaActiveFromHighlight(input) {\r\n  const list = acGetList(input); if (!list) return;\r\n  const active = list.querySelector('li[aria-selected=\"true\"]');\r\n  if (active && active.id) input.setAttribute('aria-activedescendant', active.id);\r\n}\r\n\r\n// Highlight management\r\nfunction acSetActiveIndex(input, idx) {\r\n  const list = acGetList(input);\r\n  if (!list) return -1;\r\n  const items = acGetItems(list);\r\n  items.forEach((li, i) => {\r\n    if (i === idx) {\r\n      li.setAttribute('aria-selected', 'true');\r\n      try { li.scrollIntoView({ block: 'nearest' }); } catch (_) {}\r\n    } else {\r\n      li.removeAttribute('aria-selected');\r\n    }\r\n  });\r\n  input.setAttribute('data-ppa-ac-index', String(idx));\r\n  acSyncAriaActiveFromHighlight(input);\r\n  return idx;\r\n}\r\nfunction acEnsureFirstActive(input) {\r\n  const list = acGetList(input);\r\n  if (!list) return;\r\n  const already = list.querySelector('[aria-selected=\"true\"]');\r\n  const idxAttr = parseInt(input.getAttribute('data-ppa-ac-index') || '-1', 10);\r\n  if (!already && (isNaN(idxAttr) || idxAttr < 0)) {\r\n    const items = acGetItems(list);\r\n    if (items.length) acSetActiveIndex(input, 0);\r\n  }\r\n}\r\nfunction acMove(input, dir) {\r\n  const list = acGetList(input); if (!list) return;\r\n  const items = acGetItems(list); if (!items.length) return;\r\n  let idx = parseInt(input.getAttribute('data-ppa-ac-index') || '-1', 10);\r\n  if (isNaN(idx)) idx = -1;\r\n  idx += dir;\r\n  if (idx < 0) idx = items.length - 1;\r\n  if (idx >= items.length) idx = 0;\r\n  acSetActiveIndex(input, idx);\r\n}\r\nfunction acAcceptHighlighted(input) {\r\n  const list = acGetList(input); if (!list) return false;\r\n  const li = list.querySelector('li[aria-selected=\"true\"]') || list.querySelector('li');\r\n  if (!li) return false;\r\n  input.value = (li.textContent || '').trim();\r\n  try { list.remove(); } catch(_) {}\r\n  input.setAttribute('aria-expanded', 'false');\r\n  input.removeAttribute('aria-activedescendant');\r\n  try { input.dispatchEvent(new Event('change', { bubbles: true })); } catch (_) {}\r\n  input.removeAttribute('data-ppa-ac-index');\r\n  return true;\r\n}\r\nfunction acClose(input) {\r\n  const list = acGetList(input);\r\n  if (list && list.parentNode) list.parentNode.removeChild(list);\r\n  input.removeAttribute('data-ppa-ac-index');\r\n  input.setAttribute('aria-expanded', 'false');\r\n  input.removeAttribute('aria-activedescendant');\r\n}\r\n\r\n// Data/UI build\r\nfunction acHideAllLists() {\r\n  document.querySelectorAll('.ppa-autocomplete-list').forEach(el => el.remove());\r\n}\r\nfunction acShowListFor(input, fieldType) {\r\n  acHideAllLists();\r\n  if (!AUTOCOMPLETE_DATA || !AUTOCOMPLETE_DATA[fieldType]) return;\r\n  const val = String(input.value || '').trim().toLowerCase();\r\n  if (!val) return;\r\n\r\n  const matches = AUTOCOMPLETE_DATA[fieldType]\r\n    .filter(opt => opt.toLowerCase().includes(val))\r\n    .slice(0, 8);\r\n  if (!matches.length) return;\r\n\r\n  const ul = document.createElement('ul');\r\n  ul.className = 'ppa-autocomplete-list';\r\n  ul.setAttribute('role', 'listbox');\r\n\r\n  matches.forEach(opt => {\r\n    const li = document.createElement('li');\r\n    li.textContent = opt;\r\n    li.setAttribute('role', 'option');\r\n    li.addEventListener('mousedown', e => {\r\n      e.preventDefault();\r\n      input.value = opt;\r\n      acClose(input);\r\n    });\r\n    ul.appendChild(li);\r\n  });\r\n\r\n  input.insertAdjacentElement('afterend', ul);\r\n  acEnsureFirstActive(input);\r\n  acWireListARIA(input, ul);\r\n}\r\n\r\n// Debounce typing to avoid flicker\r\nfunction acIsTypingKey(k) {\r\n  return !(k === 'ArrowDown' || k === 'ArrowUp' || k === 'Enter' || k === 'Escape' || k === 'Tab' || k === 'Debounced');\r\n}\r\nfunction acDispatchDebouncedKeyup(input) {\r\n  try {\r\n    const ev = new KeyboardEvent('keyup', { key: 'Debounced', bubbles: true, cancelable: true });\r\n    input.dispatchEvent(ev);\r\n  } catch (_) {\r\n    const ev2 = document.createEvent('Event');\r\n    ev2.initEvent('keyup', true, true);\r\n    ev2.key = 'Debounced';\r\n    input.dispatchEvent(ev2);\r\n  }\r\n}\r\n\r\nexport function bindAutocomplete() {\r\n  AC_TARGET_IDS.forEach(id => {\r\n    const input = document.getElementById(id);\r\n    if (!input) return;\r\n\r\n    input.setAttribute('autocomplete', 'off');\r\n    acEnsureARIA(input);\r\n    input._ppaDebTimer = null;\r\n\r\n    // KEYDOWN: navigation + accept/close\r\n    input.addEventListener('keydown', (ev) => {\r\n      const k = ev.key;\r\n      if (k === 'ArrowDown') { ev.preventDefault(); acMove(input, +1); }\r\n      else if (k === 'ArrowUp') { ev.preventDefault(); acMove(input, -1); }\r\n      else if (k === 'Enter') {\r\n        const accepted = acAcceptHighlighted(input);\r\n        if (accepted) { ev.preventDefault(); ev.stopPropagation(); }\r\n      }\r\n      else if (k === 'Tab') {\r\n        const list = acGetList(input);\r\n        if (list && acAcceptHighlighted(input)) { ev.preventDefault(); ev.stopPropagation(); }\r\n      }\r\n      else if (k === 'Escape') { acClose(input); }\r\n    });\r\n\r\n    // KEYUP (capture): smooth debounce for typing keys\r\n    input.addEventListener('keyup', (ev) => {\r\n      const k = ev.key;\r\n      if (!acIsTypingKey(k)) return;     // arrows/enter/esc/tab pass through\r\n      ev.stopPropagation();              // prevent immediate rebuilds upstream\r\n      if (input._ppaDebTimer) { clearTimeout(input._ppaDebTimer); input._ppaDebTimer = null; }\r\n      const sib = input.nextElementSibling;\r\n      if (sib && sib.classList && sib.classList.contains('ppa-autocomplete-list')) {\r\n        try { sib.remove(); } catch(_) {}\r\n      }\r\n      input._ppaDebTimer = setTimeout(() => {\r\n        input._ppaDebTimer = null;\r\n        acDispatchDebouncedKeyup(input);\r\n      }, DEBOUNCE_MS);\r\n    }, true); // capture\r\n\r\n    // KEYUP (bubble): actual render on our synthetic 'Debounced'\r\n    input.addEventListener('keyup', async (ev) => {\r\n      const k = ev.key;\r\n      if (k === 'Escape') { acClose(input); return; }\r\n      if (acIsTypingKey(k) && k !== 'Debounced') return; // wait for the debounced event\r\n      await loadAutocompleteData();\r\n      acShowListFor(input, id.replace('ppa-',''));\r\n    });\r\n\r\n    input.addEventListener('input', () => {\r\n      input.setAttribute('data-ppa-ac-index', '-1');\r\n    });\r\n\r\n    input.addEventListener('blur', () => setTimeout(() => acClose(input), 120));\r\n    input.addEventListener('focus', () => setTimeout(() => acEnsureFirstActive(input), 0));\r\n  });\r\n\r\n  // Optional: keep ARIA in sync when lists appear via MutationObserver\r\n  try {\r\n    const mo = new MutationObserver((muts) => {\r\n      muts.forEach((m) => {\r\n        Array.prototype.forEach.call(m.addedNodes || [], (node) => {\r\n          if (!(node instanceof HTMLElement)) return;\r\n          if (node.classList && node.classList.contains('ppa-autocomplete-list')) {\r\n            const input = node.previousElementSibling && node.previousElementSibling.tagName === 'INPUT'\r\n              ? node.previousElementSibling\r\n              : node.parentElement && node.parentElement.querySelector('input');\r\n            if (input) { acEnsureARIA(input); acWireListARIA(input, node); acSyncAriaActiveFromHighlight(input); }\r\n          }\r\n        });\r\n      });\r\n    });\r\n    mo.observe(document.body, { childList: true, subtree: true });\r\n  } catch (_) {}\r\n}\r\n", "/**\r\n * Auto-wrap <select> elements (for Rodeo arrow CSS)\r\n */\r\nimport { $$ } from './config.js';\r\n\r\nexport function wrapSelects() {\r\n  $$('.ppa-form select').forEach(sel => {\r\n    if (!sel.parentElement.classList.contains('ppa-select-wrap')) {\r\n      const wrap = document.createElement('div');\r\n      wrap.className = 'ppa-select-wrap';\r\n      sel.parentNode.insertBefore(wrap, sel);\r\n      wrap.appendChild(sel);\r\n    }\r\n  });\r\n}\r\n", "/**\r\n * Boot wiring for admin Composer\r\n */\r\nimport { $, getNonce, warn } from './config.js';\r\nimport { onPreviewClick, onStoreClick } from './actions.js';\r\nimport { bindAutocomplete } from './autocomplete.js';\r\nimport { wrapSelects } from './selects.js';\r\n\r\nexport function findButton(role) {\r\n  const byData = $(`[data-ppa-action=\"${role}\"]`);\r\n  if (byData) return byData;\r\n  const map = {\r\n    preview: ['#ppa-preview-btn', '#ppa-btn-preview'],\r\n    draft:   ['#ppa-save-btn',     '#ppa-btn-draft'],\r\n    publish: ['#ppa-publish-btn',  '#ppa-btn-publish'],\r\n  };\r\n  for (const sel of (map[role] || [])) { const el = $(sel); if (el) return el; }\r\n  return null;\r\n}\r\n\r\nexport function boot() {\r\n  if (!getNonce()) { warn('PPA nonce missing; admin-ajax calls may fail.'); }\r\n\r\n  const btnPreview = findButton('preview');\r\n  const btnDraft   = findButton('draft');\r\n  const btnPublish = findButton('publish');\r\n\r\n  if (btnPreview) btnPreview.addEventListener('click', onPreviewClick, false);\r\n  if (btnDraft)   btnDraft.addEventListener('click', onStoreClick.bind(null, 'draft'), false);\r\n  if (btnPublish) btnPublish.addEventListener('click', onStoreClick.bind(null, 'publish'), false);\r\n\r\n  bindAutocomplete();\r\n  wrapSelects();\r\n}\r\n", "/**\r\n * Entry point \u2014 bundles into assets/js/admin.js\r\n */\r\nimport { boot } from './boot.js';\r\n\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', boot, { once: true });\r\n} else {\r\n  boot();\r\n}\r\n"],
  "mappings": "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",
  "names": ["CFG", "AJAX_URL", "NONCE", "DEBUG", "$", "sel", "root", "$$", "log", "args", "warn", "getNonce", "dom", "resolveAssetUrl", "rel", "r", "PLUGIN_SEG", "cs", "u", "scripts", "i", "src", "collectFields", "input", "out", "pushKey", "k", "v", "pair", "m", "x", "appendFieldsToFormData", "fd", "fields", "key", "val", "existing", "hasTitle", "subjectVal", "postAjax", "action", "extra", "nonce", "getNonce", "fd", "appendFieldsToFormData", "res", "AJAX_URL", "text", "parsed", "trimmed", "snippet", "findPreviewPane", "cands", "sel", "el", "$", "extractPreviewHTML", "json", "g", "obj", "path", "a", "k", "candidates", "p", "v", "msg", "renderPreviewHTMLFromJSON", "pane", "warn", "html", "ensurePreviewLoader", "pane", "findPreviewPane", "overlay", "spinner", "i", "label", "setPreviewLoaderLabel", "text", "showPreviewLoader", "labelText", "hidePreviewLoader", "BRAND_BG", "BRAND_ACCENT", "writeWorkingHTML", "doc", "heading", "sub", "openWorkingTab", "w", "updateWorkingTab", "d", "s", "p", "span", "onPreviewClick", "ev", "showPreviewLoader", "fields", "collectFields", "json", "postAjax", "renderPreviewHTMLFromJSON", "e", "warn", "setPreviewLoaderLabel", "hidePreviewLoader", "onStoreClick", "mode", "openedTab", "openWorkingTab", "fieldsBase", "updateWorkingTab", "previewJson", "rr", "log", "editUrl", "id", "base", "AJAX_URL", "AC_TARGET_IDS", "DEBOUNCE_MS", "AUTOCOMPLETE_DATA", "DEFAULT_AUTOCOMPLETE", "loadAutocompleteData", "url", "resolveAssetUrl", "res", "warn", "acGetList", "input", "sib", "acGetItems", "list", "acEnsureARIA", "acWireListARIA", "items", "li", "i", "acSyncAriaActiveFromHighlight", "active", "acSetActiveIndex", "idx", "acEnsureFirstActive", "already", "idxAttr", "acMove", "dir", "acAcceptHighlighted", "acClose", "acHideAllLists", "el", "acShowListFor", "fieldType", "val", "matches", "opt", "ul", "e", "acIsTypingKey", "k", "acDispatchDebouncedKeyup", "ev", "ev2", "bindAutocomplete", "id", "muts", "m", "node", "wrapSelects", "$$", "sel", "wrap", "findButton", "role", "byData", "$", "map", "sel", "el", "boot", "getNonce", "warn", "btnPreview", "btnDraft", "btnPublish", "onPreviewClick", "onStoreClick", "bindAutocomplete", "wrapSelects", "boot"]
}
