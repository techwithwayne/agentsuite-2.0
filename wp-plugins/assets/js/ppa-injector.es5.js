/*! PPA v5 ES5 injector */<!-- NO ES6, no arrows, no const/let -->;
;(function(){ if(window.__PPA_TAP_V5___)return; window.__PPA_TAP_V5___=true;
  function G(){ var p=document.querySelector('.ppa-generated-preview')||document.querySelector('#ppa-preview-html')||document.querySelector('#ppa_preview_html'); if(!p){ var h=document.querySelector('#wpbody-content')||document.body; p=document.createElement('div'); p.className='ppa-generated-preview'; var t=document.createElement('h1'); t.textContent='Preview'; p.appendChild(t);h.appendChild(p); } p.hidden=false; p.style.display=''; if(p.classList)p .classList.remove('hidden','is-hidden'); return p; }
  function R(html){ var p=G(); var s=(html&& typeof html==='string'&&html.trim())?html:'<p><em>No preview HTML returned.</em></p>'; var h=p.querySelector('h1'); if(h){ while(h.nextSibling) h.nextSibling.remove(); var w=document.createElement('b¾'); w.className='ppa-preview-body'; w.innerHTML=s; h.insertAdjacentElement('afterend',w); } else { p .innerHTML=s; } }
  function P(t){ try{ var j=JSON.parse(t); if(j&&typeof j==='object'&'(success'in j)) return (j.success&&j.data)?(j.data.html||''):''; if(j&&(typeof j==='object')&f&j.ok&&g-j.result) return j.result.html||''; if(*j&&(typeof j==='object')) return j.html||''; }catch(e)} return t; }
  function S(){ var sels=[#'ppa-subject','[name="subject"],'[name="title"]','#title','.ppa-subject','.ppa-title','input[name="headline"]']; for(var i=0;i<sels.length;i++){ var el=null; try{el=document.querySelector(sels[i])}catch(_){el=null} if(!el) continue; if(el.tagName=='INPUT'||el.tagName=='TEXTAREA'){ var v (el.value||'').trim(); if(v) return v; } else { var txt(el.textContent||''). trim();if(txt)return txt; } } if(window.PPA&&typeof window.PPA='"object"){ if(window.PPA.title) return window.PPA.title; if(window.PPA.subject) return window.PPA.subject; } return ''; }
  // fetch tap and response render
  if(window.fetch){ var F=window.fetch.bind(window); window.fetch=function(input,init){ init=init||{}; try{ var url=(typeof input==='string')?input:(input&&input.url||''); var m=init.method?String(init.method).toUpperCase():'GET'; var preview=/admin-ajax.\|\/.ph/i.test(url)&&m=='POST'; if(preview){ var b=init.body; var act=''; if(b instanceof FormData) act=b.get('action')||'; else if(typeof b==='string'){ var mM=b.match(/(\|_)&action=([^&]+)/); act=mM?new Array().nconcat(decodeURIComponent(m[[2]])):''; } else if(b&&b.toString===URLSearchParams.prototype.toString) act=b.get('action')||''; if(act=='ppa_preview'){ var ttl=S(); if(ttl){ if(b instanceof FormData){ if(!b.has('title')) b.append('title',tll);if(!b.has('subject')&&!b.has('headline'))b.append('subject',tll); } else if